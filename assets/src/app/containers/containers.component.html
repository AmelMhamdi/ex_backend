<h1>
  Workers
</h1>

<div class="containers-creation-bar">
  <div class=hosts_selector>
    <mat-form-field>
      <mat-select
        class="hosts-select"
        placeholder="Hôte"
        [(ngModel)]="selectedHost"
        >
        <mat-option
          *ngFor="let host of hosts"
          [value]="host">
          {{ host.protocol }}://{{ host.name }}:{{ host.port }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class=workers_selector>
    <mat-form-field>
      <mat-select
        class="workers-select"
        placeholder="Worker"
        [(ngModel)]="selectedWorker"
        >
        <mat-option
          *ngFor="let worker of workerContainers"
          [value]="worker">
          {{ worker.label }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <button mat-raised-button
    (click)="addContainer()"
    [disabled]="!selectedWorker || !selectedHost">
      + Ajouter un worker
  </button>
</div>

<ul *ngIf="containersPage" class="containers">
   <li class="container header">
    <span class="names">
      Noms
    </span>
    <span class="image">
      Image
    </span>
    <span class="state">
      Etat
    </span>
    <span class="status">
      Statut
    </span>
    <span class="id">
      ID
    </span>
    <span class="host">
      Hôte
    </span>
    <span class="host">
      Actions
    </span>
  </li>
  <li
    *ngFor="let container of containersPage.data"
    class="container"
    >
    <span class="names">
      {{container.names}}
    </span>
    <span class="image">
      {{container.image}}
    </span>
    <span class="state">
      {{container.state}}
    </span>
    <span class="status">
      {{container.status}}
    </span>
    <span class="id">
      {{container.id | slice:0:12}}
    </span>
    <span class="host">
      {{container.host.host}} [{{container.host.port}}]
    </span>
    <span class="action">
      <button mat-raised-button
        (click)="removeContainer(container.id, container.host)"
        [disabled]="(container.state == 'running')">
          Supprimer
      </button>
    </span>
  </li>
</ul>
